# ==============================================================================
# Verifyr RAG System - Environment Variables
# ==============================================================================
#
# Copy this file to .env and fill in your actual values.
# DO NOT commit .env to version control!
#
# Usage: cp .env.example .env
#        (Windows: copy .env.example .env)

# ==============================================================================
# LLM API Keys (Phase 7 - Multi-Model Support)
# ==============================================================================

# Anthropic Claude API
# Get your key from: https://console.anthropic.com/settings/keys
# Used for: claude-sonnet-4.5, claude-3.5-haiku models
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# OpenAI API
# Get your key from: https://platform.openai.com/api-keys
# Used for: gpt-4o, gpt-4o-mini models
# Also used for: RAGAS evaluation (Phase 12)
OPENAI_API_KEY=your_openai_api_key_here

# ==============================================================================
# Langfuse Configuration (Phase 11 - Observability & Evaluation)
# ==============================================================================

# Langfuse Host URL
# For local Docker setup: http://localhost:3000
# For Langfuse Cloud: https://cloud.langfuse.com
LANGFUSE_HOST=http://localhost:3000

# Langfuse API Keys
# Get from Langfuse dashboard: Settings â†’ API Keys
# After starting docker-compose and creating account at http://localhost:3000
LANGFUSE_PUBLIC_KEY=your_langfuse_public_key_here
LANGFUSE_SECRET_KEY=your_langfuse_secret_key_here

# ==============================================================================
# Docker Compose Configuration (Phase 11 - Langfuse Docker Stack)
# ==============================================================================

# NextAuth Secret for Langfuse authentication
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-change-this-in-production

# Salt for Langfuse encryption
# Generate with: openssl rand -base64 32
SALT=your-salt-change-this-in-production

# ==============================================================================
# Supabase Authentication (Phase: Auth Implementation)
# ==============================================================================

# Supabase Project URL
# Get from: https://supabase.com/dashboard/project/_/settings/api
SUPABASE_URL=your_supabase_project_url_here

# Supabase Anonymous Key (public - safe for frontend)
# Get from: https://supabase.com/dashboard/project/_/settings/api
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Supabase Service Role Key (secret - backend only)
# Get from: https://supabase.com/dashboard/project/_/settings/api
# WARNING: Never expose this key in frontend code!
SUPABASE_SERVICE_KEY=your_supabase_service_key_here

# Supabase JWT Secret (for token verification)
# Get from: https://supabase.com/dashboard/project/_/settings/api â†’ JWT Settings
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_here

# Enable user signup (true/false)
# Set to false to disable public registration
ENABLE_SIGNUP=true

# ==============================================================================
# Application Settings (Optional)
# ==============================================================================

# Base URL for the application (used for email redirects)
# Development: http://localhost:8000
# Production: https://www.verifyr.de
BASE_URL=http://localhost:8000

# API Server Port (default: 8000)
# PORT=8000

# Log Level (debug, info, warning, error)
# LOG_LEVEL=info

# Enable debug mode (true/false)
# DEBUG=false

# ==============================================================================
# Setup Instructions
# ==============================================================================
#
# 1. LANGFUSE SETUP (Local Docker):
#    a. Start Docker Desktop
#    b. Run: docker-compose up -d
#    c. Wait 60-90 seconds for all services to start
#    d. Access: http://localhost:3000
#    e. Create account (first-time only)
#    f. Go to Settings â†’ API Keys
#    g. Copy Public Key and Secret Key to this file
#    h. Restart FastAPI backend to load new keys
#
# 2. LANGFUSE CLOUD (Alternative to Local Docker):
#    a. Sign up at: https://cloud.langfuse.com
#    b. Set LANGFUSE_HOST=https://cloud.langfuse.com
#    c. Get API keys from cloud dashboard
#    d. No docker-compose needed
#
# 3. GENERATE DOCKER SECRETS:
#    # On macOS/Linux:
#    openssl rand -base64 32
#
#    # On Windows (PowerShell):
#    [Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Minimum 0 -Maximum 256 }))
#
# 4. GET LLM API KEYS:
#    Anthropic: https://console.anthropic.com/settings/keys
#    OpenAI: https://platform.openai.com/api-keys
#
# 5. VERIFY SETUP:
#    # Check Langfuse is running
#    docker-compose ps
#
#    # Check backend loads env vars
#    python backend/main.py
#    # Should see: "ðŸ“Š Langfuse initialized successfully!"
#
# ==============================================================================
# Phase 12 Evaluation Requirements
# ==============================================================================
#
# For Phase 12 evaluation (RAGAS + metrics):
# - OPENAI_API_KEY is REQUIRED (RAGAS uses GPT-4o for judging)
# - LANGFUSE_PUBLIC_KEY and LANGFUSE_SECRET_KEY are REQUIRED (to log scores)
# - ANTHROPIC_API_KEY is optional (unless testing Claude models)
#
# ==============================================================================
# Notes
# ==============================================================================
#
# - The .env file is in .gitignore by default (never commit it!)
# - All Langfuse services run in Docker (no cloud signup needed for local)
# - Phase 11 must be complete before Phase 12 (Langfuse required)
# - RAGAS evaluation costs ~$3-5 per run (50-75 test cases)
#
